---
title: Redis
layout: doc
author: redlonely
date: 2024-03-01
---

# {{ $frontmatter.title }}


> [!TIP]
> 由于我只是业余涉猎，这里的记录和理解可能不够全面，只作为个人参考，如有问题还望及时告知修正！

## Redis 介绍

### Redis 是什么?

Redis（Remote Dictionary Server）是一个开源的内存数据结构存储系统，是现在最受欢迎的 `NoSQL` 数据库之一

<!-- <Tip tip="NoSQL 不是没有 SQL 了">NoSQL</Tip> -->

它可以用作数据库、缓存和消息代理。支持多种数据结构，包括字符串、哈希、列表、集合、有序集合等

Redis 最大的特点是数据存储在内存中，因此读写速度非常快，适合用作高性能的缓存系统。

Redis 支持数据持久化，可以将内存中的数据定期保存到磁盘上，以防止数据丢失。

### Redis 的优点?

1. 高性能： 基于内存中，读写速度极快，适合高并发场景。
2. 丰富的数据结构： 支持多种数据结构，如字符串、哈希、列表等，灵活应对不同场景需求。
3. 持久化支持： 支持持久化，可以将内存中的数据定期保存到磁盘上，防止数据丢失。
4. 丰富的功能： 提供了丰富的功能和操作命令，如事务、发布订阅、Lua脚本等，满足各种需求。
5. 高可用性： 支持主从复制、哨兵和集群等机制，保证数据的可用性和可靠性。
6. 社区活跃： 拥有庞大的开发者社区，提供丰富的资源和支持。

### Redis 的缺点?

1. 数据量受限： 由于数据存储在内存中，受到内存容量的限制，不能存储超大规模的数据。
2. 单线程模型： Redis采用单线程模型，不能充分利用多核CPU，可能在某些情况下性能受限。
3. 持久化性能损耗： 持久化操作会对性能产生一定的损耗，尤其在AOF模式下。
缺乏复杂查询支持： 不支持复杂的查询操作，如关联查询、聚合函数等，适合于简单的数据存取操作。
4. 内存成本高： 由于数据存储在内存中，成本相对较高，需要投入更多的硬件资源。
5. 数据持久化不及时： 在使用RDB持久化时，如果发生宕机，可能会导致部分数据丢失。

## Redis 数据结构

| 数据结构 | 描述 |
|-----------------|---------------------|
| 字符串（String） | 最基本的数据结构，可以存储字符串、整数或者浮点数。                                                             |
| 哈希（Hash）     | 类似于关联数组或者对象，存储字段和与之关联的值之间的映射关系。                                                 |
| 列表（List）     | 由一系列元素组成的有序集合，支持在两端进行插入、删除操作。                                                     |
| 集合（Set）      | 不重复元素的无序集合，支持添加、删除、交集、并集等操作。                                                      |
| 有序集合（Sorted Set） | 类似于集合，但是每个元素都关联一个分数，根据分数进行排序，支持范围查找和排名操作。                             |
| 位图（Bitmap）   | 可以将字符串看作是二进制位数组，支持对位的设置、查询、统计等操作。                                             |

### 使用场景

- 字符串（String）：存储用户会话信息、缓存页面内容或对象。
- 哈希（Hash）：存储对象的属性和值，如存储用户信息，每个用户对应一个哈希结构。
- 列表（List）：用于实现消息队列、发布订阅系统、最新消息展示等场景。
- 集合（Set）：存储唯一值，如用户标签、社交关系等。
- 有序集合（Sorted Set）：用于排行榜、时间线（按时间顺序显示内容）、范围查询等。
- 位图（Bitmap）：用于记录用户的在线状态、签到记录等。附近